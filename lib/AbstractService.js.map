{"version":3,"sources":["../src/AbstractService.js"],"names":["path","require","AbstractService","plugin","runtimeDir","settings","stackName","getStackName","layerName","getLayerName","bucketName","getBucketName","provider","dependenceFilename","join","getBucketLayersPath","dependenciesPath","zipFileKeyName","test","process","platform","replace","module","exports"],"mappings":";;;;;;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;IAEMC,e,GACJ,yBAAYC,MAAZ,EAAoB;AAAA;AAClB,OAAKA,MAAL,GAAcA,MAAd;AADkB,MAGVC,UAHU,GAGK,KAAKD,MAAL,CAAYE,QAHjB,CAGVD,UAHU;AAKlB,OAAKE,SAAL,GAAiBH,MAAM,CAACI,YAAP,EAAjB;AACA,OAAKC,SAAL,GAAiBL,MAAM,CAACM,YAAP,EAAjB;AACA,OAAKC,UAAL,GAAkBP,MAAM,CAACQ,aAAP,EAAlB;AACA,OAAKC,QAAL,GAAgB,KAAKT,MAAL,CAAYS,QAA5B;AAEA,OAAKC,kBAAL,GAA0Bb,IAAI,CAACc,IAAL,CAAUX,MAAM,CAACY,mBAAP,EAAV,EAAwC,KAAKZ,MAAL,CAAYE,QAAZ,CAAqBW,gBAA7D,CAA1B;AACA,OAAKC,cAAL,aAAyBjB,IAAI,CAACc,IAAL,CAAU,KAAKX,MAAL,CAAYY,mBAAZ,EAAV,EAA6C,KAAKP,SAAlD,CAAzB;;AAEA,MAAI,OAAOU,IAAP,CAAYC,OAAO,CAACC,QAApB,CAAJ,EAAmC;AACjC,SAAKH,cAAL,GAAsB,KAAKA,cAAL,CAAoBI,OAApB,CAA4B,KAA5B,EAAmC,GAAnC,CAAtB;AACA,SAAKR,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBQ,OAAxB,CAAgC,KAAhC,EAAuC,GAAvC,CAA1B;AACD;AACF,C;;AAGHC,MAAM,CAACC,OAAP,GAAiBrB,eAAjB","sourcesContent":["const path = require('path');\n\nclass AbstractService {\n  constructor(plugin) {\n    this.plugin = plugin;\n\n    const { runtimeDir } = this.plugin.settings;\n\n    this.stackName = plugin.getStackName();\n    this.layerName = plugin.getLayerName();\n    this.bucketName = plugin.getBucketName();\n    this.provider = this.plugin.provider;\n\n    this.dependenceFilename = path.join(plugin.getBucketLayersPath(), this.plugin.settings.dependenciesPath);\n    this.zipFileKeyName = `${path.join(this.plugin.getBucketLayersPath(), this.layerName)}.zip`;\n\n    if (/^win/.test(process.platform)) {\n      this.zipFileKeyName = this.zipFileKeyName.replace(/\\\\/g, '/');\n      this.dependenceFilename = this.dependenceFilename.replace(/\\\\/g, '/');\n    }\n  }\n}\n\nmodule.exports = AbstractService\n"],"file":"AbstractService.js"}