{"version":3,"sources":["../src/AbstractService.js"],"names":["path","require","AbstractService","plugin","stackName","getStackName","layerName","getLayerName","bucketName","getBucketName","provider","dependenceFilename","join","getBucketLayersPath","settings","dependenciesPath","zipFileKeyName","test","process","platform","replace","compileDir","runtimeDir","cwd","module","exports"],"mappings":";;;;;;;;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;IAEMC,e;AACJ,2BAAYC,MAAZ,EAAoB;AAAA;AAClB,SAAKA,MAAL,GAAcA,MAAd;AAEA,SAAKC,SAAL,GAAiBD,MAAM,CAACE,YAAP,EAAjB;AACA,SAAKC,SAAL,GAAiBH,MAAM,CAACI,YAAP,EAAjB;AACA,SAAKC,UAAL,GAAkBL,MAAM,CAACM,aAAP,EAAlB;AACA,SAAKC,QAAL,GAAgB,KAAKP,MAAL,CAAYO,QAA5B;AAEA,SAAKC,kBAAL,GAA0BX,IAAI,CAACY,IAAL,CAAUT,MAAM,CAACU,mBAAP,EAAV,EAAwC,KAAKV,MAAL,CAAYW,QAAZ,CAAqBC,gBAA7D,CAA1B;AACA,SAAKC,cAAL,aAAyBhB,IAAI,CAACY,IAAL,CAAU,KAAKT,MAAL,CAAYU,mBAAZ,EAAV,EAA6C,KAAKP,SAAlD,CAAzB;;AAEA,QAAI,OAAOW,IAAP,CAAYC,OAAO,CAACC,QAApB,CAAJ,EAAmC;AACjC,WAAKH,cAAL,GAAsB,KAAKA,cAAL,CAAoBI,OAApB,CAA4B,KAA5B,EAAmC,GAAnC,CAAtB;AACA,WAAKT,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBS,OAAxB,CAAgC,KAAhC,EAAuC,GAAvC,CAA1B;AACD;AACF;;;;yCAEoB;AAAA,kCACgB,KAAKjB,MAAL,CAAYW,QAD5B;AAAA,UACXO,UADW,yBACXA,UADW;AAAA,UACCC,UADD,yBACCA,UADD;AAEnB,aAAOtB,IAAI,CAACY,IAAL,CAAUM,OAAO,CAACK,GAAR,EAAV,EAAyBF,UAAzB,EAAqC,QAArC,EAA+CC,UAA/C,CAAP;AAAkE;AACnE;;;;;AAGHE,MAAM,CAACC,OAAP,GAAiBvB,eAAjB","sourcesContent":["const path = require('path');\n\nclass AbstractService {\n  constructor(plugin) {\n    this.plugin = plugin;\n\n    this.stackName = plugin.getStackName();\n    this.layerName = plugin.getLayerName();\n    this.bucketName = plugin.getBucketName();\n    this.provider = this.plugin.provider;\n\n    this.dependenceFilename = path.join(plugin.getBucketLayersPath(), this.plugin.settings.dependenciesPath);\n    this.zipFileKeyName = `${path.join(this.plugin.getBucketLayersPath(), this.layerName)}.zip`;\n\n    if (/^win/.test(process.platform)) {\n      this.zipFileKeyName = this.zipFileKeyName.replace(/\\\\/g, '/');\n      this.dependenceFilename = this.dependenceFilename.replace(/\\\\/g, '/');\n    }\n  }\n\n  getLayerPackageDir() {\n    const { compileDir, runtimeDir } = this.plugin.settings;\n    return path.join(process.cwd(), compileDir, 'layers', runtimeDir);;\n  }\n}\n\nmodule.exports = AbstractService\n"],"file":"AbstractService.js"}